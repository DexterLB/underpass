import "library.ccg".
import "amenities.ccg".

begin S.

SE < Set.

S < Set.

Entity < Set.
NamedEntity < String.

mark="begin"  : S / SE        @ \x: SE    => S[Set[x]] .
mark="end"    : SE \ Set      @ \x: Set   => SE[x] .

pos="comma"   : $X \ $X       @ id.

raw="in"      
    : Set / Set \ Set 
    @ \things, where => and things (in where).

pos="nnp" `'$raw'` : String
    : Entity          
    @ name.

pos="nnp" `'$raw'` : String
    : NamedEntity       
    @ \x => NamedEntity[x].

raw="like"    : Set \ NamedEntity @ nameLike.
raw="city"    : Set \ Entity    @ and city.
raw="near"    : Set \ Set / Set @ \b, a => and a (near b).
